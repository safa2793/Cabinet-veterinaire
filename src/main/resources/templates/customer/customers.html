<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Cabinet vétérinaire</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<div class="row">
			<div lang="tr" th:replace="fragments/header :: header"></div> 
			<div lang="tr" th:replace="fragments/header :: title"></div>
			<div class="col-md-12">
				<a class="btn btn-success" href="/customer/customers">Voir les clients</a>
				<a class="btn btn-info" href="/customer/insert-customer">Ajouter un client</a>
				<hr>
				<form th:action="@{/customer/get-customers}" th:object="${customer}" method="get">
					<div class="form-group row">
						<label for="searchCustomer" class="col-sm-2 col-form-label">Appeler le client</label>
						<div class="col-sm-4">
							<input type="text" name="name" class="form-control" id="searchCustomer" placeholder="Entrez le nom ou le prénom.">
						</div>
						<div class="col-sm-4">
							<button type="submit" class="btn btn-primary mb-2">Chercher</button>
						</div>
					</div>
				</form>
			</div>
			<div class="col-md-12">
			    <div class="alert alert-warning alert-dismissible fade show" role="alert" th:if="${message}">
					<strong th:text="${message}"></strong> 
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>	
				<table class="table table-striped table-sm">
					<h3> <span class="badge badge-primary">Clients</span></h3>
					<thead>
						<tr>
							<th scope="col">id</th>
							<th scope="col">Prenom</th>
							<th scope="col">Nom</th>
							<th scope="col">Telephone</th>
							<th scope="col">Ville</th>
							<th scope="col">Email</th>
							<th scope="col">Transactions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="customer : ${customers}">
							<td th:text="${customer.getCustomerid()}"></td>
							<td th:text="${customer.getFirstname()}"></td>
							<td th:text="${customer.getLastname()}"></td>
							<td th:text="${customer.getPhone_number()}"></td>
							<td th:text="${customer.getCity()}"></td>
							<td th:text="${customer.getEmail() }"></td>
							<td>
								<a th:href="@{'/customer/show-customer/' + ${customer.getCustomerid()}}" class="btn btn-info btn-sm">Show </a>
								<a th:href="@{'/customer/update-customer/' + ${customer.getCustomerid()}}" class="btn btn-danger btn-sm">Editer </a>
								<a th:href="@{'/customer/delete-customer/' + ${customer.getCustomerid()}}" class="btn btn-warning btn-sm" 
									onclick="return confirm('Are you sure you want to delete this item?');">Supprimer </a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	    <hr>	
	</div>
	
	<div lang="tr" th:replace="fragments/header :: jsfile"></div>
	</body>
</html>